(this["webpackJsonpdev-portal"]=this["webpackJsonpdev-portal"]||[]).push([[0],{1455:function(e,t){},1457:function(e,t){},1612:function(e,t,n){},1613:function(e,t,n){},1614:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(27),i=n(29),o=n(28),c=n(30),l=n(78),s=n(0),u=n.n(s),d=n(55),m=n.n(d),p=n(1649),f=n(1646),g=n(1642),h=n(1650),b=n(532),v=n(21),E=n(1625),y=n(33),w=n(533),O=n.n(w),k=n(534),j=n.n(k),C=Object(y.j)({});function A(e,t){C[t]={jsx:function(){return null}},window.fetch(e).then((function(e){return e.text().then((function(e){var n=O()(e);C[t]=Object(v.a)({jsx:function(){return u.a.createElement(j.a,{escapeHtml:!1,source:n.body,renderers:I})}},n.attributes)}))}))}var S,x,I={link:function(e){var t=e.href,n=Object(l.a)(e,["href"]);return/^(?:[a-z]+:)?\/\//i.test(t)?u.a.createElement("a",Object.assign({href:t,target:"_blank",rel:"noopener noreferrer"},n)):u.a.createElement(E.a,Object.assign({to:t},n))}},P=(n(734),n(31)),D=n(1643),N=n(567),R=n(1647),G=n(1616),L=n(1626),M=Object(P.a)((function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(D.a,{vertical:!0,textAlign:"center",style:{color:"whitesmoke",backgroundColor:"slategray",padding:"40px 0px",margin:"0px !important"}},u.a.createElement(N.a,{centered:!0,size:"small",src:"/custom-content/home-image.png"}),u.a.createElement(R.a,{as:"h1",style:{color:"whitesmoke"}},C.Home.header),u.a.createElement("p",null,C.Home.tagline),u.a.createElement(E.a,{to:"/getting-started","data-testid":"gettingStartedLink"},u.a.createElement(G.a,{positive:!0},C.Home.gettingStartedButton)),u.a.createElement(E.a,{to:"/apis",style:{padding:"0.78571429em 1.5em 0.78571429em",color:"white"},"data-testid":"apiListLink"},C.Home.apiListButton)),u.a.createElement(D.a,{vertical:!0,style:{padding:"40px 0px",margin:"0 !important"}},u.a.createElement(L.a,{fluid:!0,text:!0,textAlign:"justified"},u.a.createElement(C.Home.jsx,null))))})),T=Object(P.a)((function(){return u.a.createElement(L.a,{style:{padding:"40px"}},u.a.createElement(C.GettingStarted.jsx,null))})),H=n(62),q=n(1645),z=n(1627),K=n(1639),U=n(1628),F=n(1635),_=n(1633),J=n(538),B=n.n(J),W=n(19),V=n.n(W),Y=n(122),Z=n.n(Y),$=V.a.get(window,"config.region"),Q=V.a.get(window,"config.region"),X=V.a.get(window,"config.userPoolId"),ee=V.a.get(window,"config.identityPoolId"),te=V.a.get(window,"config.userPoolClientId"),ne=V.a.get(window,"config.userPoolDomain");function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accessKeyId,n=e.secretAccessKey,a=e.sessionToken;S=window.apigClientFactory.newClient({accessKey:t,secretKey:n,sessionToken:a,region:$}),t&&n&&a&&(x=S),window.apigw=S}function re(){return S?Promise.resolve(S):new Promise((function(e){var t=setInterval((function(){S&&(clearInterval(t),e(S))}),100)}))}function ie(){return x?Promise.resolve(x):new Promise((function(e){var t=setInterval((function(){x&&(clearInterval(t),e(x))}),100)}))}Z.a.config.region=Q;var oe=Object(y.j)(Object(v.a)({},{api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[],notifications:[],visibility:{apiGateway:[],generic:{}}},{initialize:function(){return Object.assign(this,{api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[],notifications:[],visibility:{apiGateway:[],generic:{}}}),this},clear:function(){return this.initialize()},reset:function(){for(var e=this,t={api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[],notifications:[],visibility:{apiGateway:[],generic:{}}},n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return a.forEach((function(n){return V.a.set(e,n,V.a.get(t,n))})),this},resetUserData:function(){this.reset("apiKey","cognitoUser","subscriptions")}}));function ce(e,t){Object(y.k)(e,(function(e,n){t(e,n)}))}ce((function(){return{subscriptions:oe.subscriptions,usagePlans:oe.usagePlans}}),(function(e){!function(e){e&&e.forEach((function(e){var t,n=(t=e.id,!!oe.subscriptions.find((function(e){return e.id===t})));e.subscribed=n,e.apis.forEach((function(e){e.subscribed=n}))}))}(e.usagePlans)})),ce((function(){return[].concat(oe.apiList.apiGateway,oe.apiList.generic)}),(function(e){!function(e){e.forEach((function(e){if(!e.logo){var t="/custom-content/api-logos/".concat(e.id,"_").concat(e.stage,".png");window.fetch(t,{headers:{Accept:"image/png"},redirect:"manual"}).then((function(n){n.ok?e.logo=t:e.logo="/custom-content/api-logos/default.png"}))}}))}(e)}));oe.initialize();var le=n(137),se=n(244);function ue(){return oe.idToken}function de(){return se(oe.idToken)["cognito:preferred_role"]||""}function me(){if(!oe.idToken)return!1;var e=de();return e.includes("-CognitoAdminRole-")||e.includes("-CognitoRegisteredRole-")}function pe(){return oe.idToken&&de().includes("-CognitoAdminRole-")}function fe(){return new Promise((function(e,t){var n;try{window.location.hash.replace(/^#/,"").split("&").map((function(e){return e.split("=")})).forEach((function(e){"id_token"===e[0]&&(n=e[1])})),n&&(window.localStorage.setItem(X,n),oe.idToken=n,ve(),e(n))}catch(a){t(a)}}))}var ge,he,be=function(){return"".concat(window.location.protocol,"//").concat(window.location.host,"/index.html?action=login")};function ve(){var e=se(oe.idToken)["cognito:preferred_role"],t={IdentityPoolId:ee,Logins:Object(le.a)({},"cognito-idp.".concat(Q,".amazonaws.com/").concat(X),oe.idToken)};return e&&(t.RoleArn=e),Z.a.config.credentials=new Z.a.CognitoIdentityCredentials(t),new Promise((function(e,t){Z.a.config.credentials.refresh((function(e){return e?(console.error(e),t(e)):(ae(Z.a.config.credentials),function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=[ye(e),je(e),Ce(e)];pe()&&t.push(ke(e));Promise.all(t)}(),re().then((function(e){return e.post("/signin",{},{},{})})))}))}))}function Ee(){if(oe.idToken&&(oe.resetUserData(),window.localStorage.clear(),ne)){var e="".concat(window.location.protocol,"//").concat(window.location.host,"/index.html?action=logout");window.location="".concat(ne,"/logout?client_id=").concat(te,"&logout_uri=").concat(e)}}function ye(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!e&&ge?ge:(oe.apiList.loaded=!1,ge=re().then((function(e){return e.get("/catalog",{},{},{})})).then((function(e){var t=e.data,n=void 0===t?[]:t;oe.usagePlans=n.apiGateway,oe.apiList={loaded:!0,apiGateway:we(oe.usagePlans),generic:n.generic}})).catch((function(){oe.usagePlans=[],oe.apiList={loaded:!0,apiGateway:[],generic:[]}})))}function we(e){return e.reduce((function(e,t){return t.apis.forEach((function(e){e.usagePlan=V.a.cloneDeep(t),delete e.usagePlan.apis})),e.concat(t.apis)}),[])}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ye(a).then((function(){var a,r=[].concat(oe.apiList.apiGateway,oe.apiList.generic);return r.length&&(a="ANY"===e||"FIRST"===e?r[0]:r.find((function(t){return t.id.toString()===e})),n&&(a=oe.apiList.apiGateway.find((function(t){return t.id.toString()===e&&t.stage===n})))),t&&(oe.api=a),a}))}function ke(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return re().then((function(e){return e.get("/admin/catalog/visibility",{},{},{})})).then((function(e){var t=e.data;return oe.visibility=t}))}function je(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=oe.subscriptions.length?oe.subscriptions:he;return!e&&t?Promise.resolve(t):he=re().then((function(e){return e.get("/subscriptions",{},{},{})})).then((function(e){var t=e.data;return oe.subscriptions=t}))}function Ce(e){var t=oe.apiKey?oe.apiKey:void 0;return!e&&t?Promise.resolve(t):re().then((function(e){return e.get("/apikey",{},{},{})})).then((function(e){var t=e.data;return oe.apiKey=t.value}))}function Ae(e,t){var n={};return Object.keys(e.items).forEach((function(t){(function(e,t){var n=new Date(t);e&&!Array.isArray(e[0])&&(e=[e]);return e.map((function(e){var t=[n.setDate(n.getDate())].concat(Object(H.a)(e));return n.setDate(n.getDate()+1),t}))})(e.items[t],e.startDate).forEach((function(e){var t=e[0],a=e[1],r=e[2];n[t]||(n[t]={used:0,remaining:0}),n[t].used+=a,n[t].remaining+=r}))})),Object.keys(n).sort().map((function(e){return[parseInt(e,10),n[e].used,n[e].remaining]}))}var Se=n(17);function xe(e){var t=e[0],n=e.slice(1);return t.toUpperCase()+n.toLowerCase()}function Ie(e,t){(function(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),1).toJSON().split("T")[0],a=t.toJSON().split("T")[0];return re().then((function(t){return t.get("/subscriptions/"+e+"/usage",{start:n,end:a},{})}))})(e.id).then((function(n){var a=Ae(n.data),r=document.getElementById(t);JSON.stringify(V.a.get(e,"usage.data",{}))!==JSON.stringify(a)&&(e.usage={data:a});var i=a.map((function(e){return new Date(e[0]).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})),o=a.map((function(e){return e[1]})),c=a.map((function(e){return e[2]})),l=Math.max.apply(Math,Object(H.a)(o).concat(Object(H.a)(c))),s={type:"line",data:{labels:i,datasets:[{label:"Requests used"+(e.quota?" (per ".concat(xe(e.quota.period),")"):""),data:o,lineTension:0,backgroundColor:"#00bfff",borderColor:"#00bfff",pointBackgroundColor:"transparent",pointBorderColor:"transparent",borderWidth:2,pointRadius:10,pointHoverRadius:10},{label:"Remaining requests"+(e.quota?" (per ".concat(xe(e.quota.period),")"):""),data:c,lineTension:0,backgroundColor:"transparent",borderColor:"red",pointBackgroundColor:"transparent",pointBorderColor:"transparent",borderWidth:2,pointRadius:10,pointHoverRadius:10}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:l+.02*l}}]}}};new B.a(r,s)})).catch((function(t){console.error(t),e.usage||(e.usage={}),e.usage.error=t}))}var Pe=Object(P.a)((function(){return u.a.createElement(q.a,{container:!0},u.a.createElement(q.a.Row,null,u.a.createElement(q.a.Column,{style:{paddingTop:"40px"}},u.a.createElement(R.a,{size:"medium"},"API Key"),u.a.createElement("code",{style:{background:"black",border:"1px solid gray",padding:"7px 8px",color:"lightgray",borderRadius:"5px"}},oe.apiKey))),u.a.createElement(z.a,null),u.a.createElement(q.a.Row,null,oe.usagePlans.filter((function(e){return e.subscribed&&e.apis.length})).map((function(e,t){var n="api-usage-chart-container-".concat(e.id)+t;return Ie(e,n),u.a.createElement(q.a.Column,{width:16,widescreen:8,key:e.id,style:{marginBottom:"40px"}},u.a.createElement(De,{apis:e.apis}),e.throttle&&u.a.createElement(K.a,{info:!0},u.a.createElement("p",null,"Requests limited to ",e.throttle.rateLimit," per second, and ",e.throttle.burstLimit," in a burst.")),e.usage?e.error?u.a.createElement(K.a,{error:!0,content:e.error.toString()}):null:u.a.createElement(U.a,{active:!0}),u.a.createElement("canvas",{id:n}))}))))})),De=function(e){var t=e.apis,n=t[0].swagger.info.title,a=u.a.createElement(F.a,null,t.reduce((function(e,t){return e.concat(u.a.createElement(F.a.Item,{key:t.id},t.swagger.info.title))}),[])),r=t.length-1;return u.a.createElement(R.a,{size:"medium"},"Usage for ",r?u.a.createElement(_.a,{trigger:u.a.createElement("a",{style:{cursor:"pointer"}},n," and ",r," more..."),content:a,on:["hover","click"],position:"right center"}):n)},Ne=n(542),Re=n.n(Ne),Ge=(n(1541),n(79)),Le=n(1644);function Me(e,t,n,a){return a?!!t&&(e===t&&n===a):!!t&&e===t}var Te=Object(P.a)((function(e){var t=!oe.apiList.loaded,n=!!V.a.get(oe,"apiList.apiGateway.length"),a=!!V.a.get(oe,"apiList.generic.length"),r=e.path.params.apiId||n&&oe.apiList.apiGateway[0].id||a&&oe.apiList.generic[0].id;"/apis/search"===e.path.url&&(r=!1);var i=e.path.params.stage||n&&oe.apiList.apiGateway[0].stage;return t?u.a.createElement(U.a,{active:!0}):n||a?u.a.createElement(u.a.Fragment,null,u.a.createElement(Le.a.Item,{key:"search",as:E.a,to:"/apis/search",active:"/apis/search"===e.path.url},"Search APIs"),n&&u.a.createElement(qe,{title:"Subscribable",listOfApis:oe.apiList.apiGateway,selectedApiId:r,selectedStage:i}),a&&u.a.createElement(He,{title:"Not Subscribable",listOfApis:oe.apiList.generic,selectedApiId:r})):u.a.createElement("p",{style:{padding:"13px 16px",color:"whitesmoke"}},"No APIs Published")}));function He(e){var t=e.title,n=e.listOfApis,a=e.selectedApiId;return u.a.createElement(Le.a,{inverted:!0,vertical:!0,borderless:!0,attached:!0,style:{flex:"0 0 auto",width:"auto"}},u.a.createElement(Le.a.Header,{style:{padding:"13px 5px 13px 16px",color:"lightsteelblue"}},t),V.a.toPairs(V.a.groupBy(n,(function(e){return e.apiId||e.id}))).map((function(e){var t=Object(Se.a)(e,2),n=t[0],r=t[1];return u.a.createElement(Le.a.Item,{key:n,className:"link",active:r.some((function(e){return Me("".concat(e.id),"".concat(a))}))},r[0].swagger.info.title,1===r.length?null!=r[0].stage?" (".concat(r[0].stage,")"):null:u.a.createElement(Le.a.Menu,null,r.map((function(e){return u.a.createElement(Le.a.Item,{key:e.id,as:E.a,to:"/apis/".concat(e.id),active:Me(e.id,"".concat(a)),style:{"font-weight":"400"}},e.stage)}))))})))}function qe(e){var t=e.title,n=e.listOfApis,a=e.selectedApiId,r=e.selectedStage,i=void 0!==r&&r;return u.a.createElement(Le.a,{inverted:!0,vertical:!0,borderless:!0,attached:!0,style:{flex:"0 0 auto",width:"auto"}},u.a.createElement(Le.a.Header,{style:{padding:"13px 5px 13px 16px",color:"lightsteelblue"}},t),V.a.toPairs(V.a.groupBy(n,"id")).map((function(e){var t=Object(Se.a)(e,2),n=t[0],r=t[1];return u.a.createElement(Le.a.Item,{key:n,className:"link",active:Me(n,"".concat(a))},r[0].swagger.info.title,1===r.length?" (".concat(r[0].stage,")"):u.a.createElement(Le.a.Menu,null,r.map((function(e){return u.a.createElement(Le.a.Item,{key:"".concat(n,"_").concat(e.stage),as:E.a,to:"/apis/".concat(n,"/").concat(e.stage),active:Me(n,"".concat(a),"".concat(e.stage),i),style:{"font-weight":"400"}},e.stage)}))))})))}var ze=n(1631),Ke=n(1632),Ue=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={open:!1,modalProps:{},children:null},Fe.open=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.setState({children:e,modalProps:t,open:!0})},Fe.close=function(){n.setState({open:!1})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ke.a,Object.assign({},this.state.modalProps,{open:this.state.open}),this.state.children))}}]),t}(u.a.Component),Fe={open:function(){},close:function(){}},_e=Object(P.a)((function(){return u.a.createElement(D.a,{basic:!0,style:{position:"absolute",right:0,margin:0,top:"56px",display:"flex",flexDirection:"column"}},oe.notifications.map((function(e){return u.a.createElement(K.a,Object.assign({},e,{onDismiss:function(){return t=e,void(oe.notifications=oe.notifications.filter((function(e){return e!==t})));var t},style:{margin:0,marginBottom:"15px"}}))})))}));function Je(e){var t=e.compact,n=void 0===t||t,a=e.negative,r=void 0===a||a,i=e.floating,o=void 0===i||i,c=e.icon,l=void 0===c?"warning sign":c,s=e.header,u=void 0===s?"Error":s,d=e.content,m=void 0===d?"An unknown error has occurred.":d;oe.notifications.push({compact:n,negative:r,floating:o,icon:l,header:u,content:m})}var Be=Object(P.a)((function(){return u.a.createElement("span",null,u.a.createElement(We,{text:"Download SDK",pointing:!0,className:"link item"},Ze.map((function(e){return u.a.createElement("div",{className:"item",key:e.id,onClick:function(){return Ve(e,Xe)}},e.friendlyName)}))),u.a.createElement(We,{text:"Export API",pointing:!0,className:"link item"},$e.map((function(e){return u.a.createElement("div",{className:"item",key:e.id,onClick:function(){return Ve(e,et)}},e.friendlyName)}))),oe.api.downloadingSdkOrApi&&u.a.createElement(U.a,{active:!0,inline:!0,size:"tiny"}))})),We=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={visible:!1},n.button=+new Date+"-dropdown-clickable",n.toggleDropdown=function(){return n.setState((function(e){return Object(v.a)({},e,{visible:!e.visible})}))},n.hideDropdown=function(e){e.target.classList.contains(n.button)||n.setState((function(e){return Object(v.a)({},e,{visible:!1})}))},document.addEventListener("click",n.hideDropdown),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideDropdown)}},{key:"render",value:function(){return u.a.createElement("span",{onClick:this.toggleDropdown,className:"ui button pointing dropdown link item "+this.button+(this.state.visible?" active":"")},this.props.text,u.a.createElement("i",{className:"dropdown icon "+this.button}),u.a.createElement("div",{className:"menu transition"+(this.state.visible?" visible":"")},this.props.children))}}]),t}(u.a.Component);function Ve(e,t){e.configurationProperties.length?Fe.open(u.a.createElement(Ye,{type:e,getDownload:t})):t(e.id)}var Ye=function(e){function t(e){var n;Object(a.a)(this,t),n=Object(i.a)(this,Object(o.a)(t).call(this,e));var r=e.type.configurationProperties.reduce((function(e,t){return"checkbox"===t.type?e[t.name]=!1:"radio"===t.type?e[t.name]=t.default:t.required&&(e[t.name]=null),e}),{});return n.state={fields:r},n.handleChange=function(e,t){var a=t.name,r=t.checked,i=t.value;n.setState((function(e){var t=n.props.type.configurationProperties.find((function(e){return e.name===a})),o=V.a.cloneDeep(e);return o.fields[a]="checkbox"===t.type?r:i,o}))},n.handleSubmit=function(){n.isDisabled().disabled||(Fe.close(),n.props.getDownload(n.props.type.id,n.state.fields))},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"isDisabled",value:function(){return{disabled:!!Object.entries(this.state.fields).find((function(e){var t=Object(Se.a)(e,2),n=(t[0],t[1]);return null==n||""===n}))}}},{key:"renderProperty",value:function(e){var t=this;return"checkbox"===e.type?u.a.createElement(ze.a.Checkbox,{name:e.name,label:"".concat(e.friendlyName),onChange:this.handleChange}):"radio"===e.type&&e.values.some((function(t){return e.default===t.name}))?u.a.createElement(ze.a.Group,{inline:!0},u.a.createElement(ze.a.Field,null,e.friendlyName),u.a.createElement(u.a.Fragment,null,e.values.map((function(n){var a=n.friendlyName,r=n.name;return u.a.createElement(ze.a.Radio,{key:r,name:e.name,label:"".concat(a),value:r,checked:t.state.fields[e.name]===r,onChange:t.handleChange})})))):e.required?u.a.createElement(ze.a.Input,{name:e.name,label:"".concat(e.friendlyName," (required)"),placeholder:e.friendlyName,onChange:this.handleChange}):null}},{key:"render",value:function(){var e=this,t=this.props.type;return u.a.createElement(u.a.Fragment,null,u.a.createElement(R.a,{icon:"archive",content:"Download the ".concat(t.longName)}),u.a.createElement(Ke.a.Content,null,u.a.createElement(ze.a,{onSubmit:this.handleSubmit},t.configurationProperties.map((function(t){return u.a.createElement(u.a.Fragment,{key:t.name},e.renderProperty(t))})))),u.a.createElement(Ke.a.Actions,null,u.a.createElement(G.a,{basic:!0,color:"red",onClick:Fe.close},u.a.createElement(Ge.a,{name:"remove"})," Cancel"),u.a.createElement(G.a,Object.assign({color:"green"},this.isDisabled(),{onClick:this.handleSubmit}),u.a.createElement(Ge.a,{name:"checkmark"})," Download")))}}]),t}(u.a.Component),Ze=[{id:"android",friendlyName:"Android",longName:"Android SDK",description:"",configurationProperties:[{name:"groupId",friendlyName:"Group ID",description:"",required:!0},{name:"invokerPackage",friendlyName:"Invoker package",description:"",required:!0},{name:"artifactId",friendlyName:"Artifact ID",description:"",required:!0},{name:"artifactVersion",friendlyName:"Artifact version",description:"",required:!0}]},{id:"javascript",friendlyName:"JavaScript",longName:"JavaScript SDK",description:"",configurationProperties:[]},{id:"ios-objective-c",friendlyName:"iOS (Objective-C)",longName:"iOS SDK (Objective-C)",description:"",configurationProperties:[{name:"classPrefix",friendlyName:"Prefix",description:"",required:!0}]},{id:"ios-swift",friendlyName:"iOS (Swift)",longName:"iOS SDK (Swift)",description:"",configurationProperties:[{name:"classPrefix",friendlyName:"Prefix",description:"",required:!0}]},{id:"java",friendlyName:"Java",longName:"Java SDK",description:"Java SDK generator for API Gateway APIs",configurationProperties:[{name:"service.name",friendlyName:"Service Name",description:"Name of the service which is used to derive the Java interface name for your client",required:!0},{name:"java.package-name",friendlyName:"Java Package Name",description:"Name of the Java package your code will be generated under",required:!0},{name:"java.build-system",friendlyName:"Java Build System",description:"Build system to setup for project; Currently supported: maven, gradle",required:!1},{name:"java.group-id",friendlyName:"Java Group Id",description:"Group id for your Maven or Gradle project. Defaults to package name",required:!1},{name:"java.artifact-id",friendlyName:"Java Artifact Id",description:"Artifact Id for your Maven project or project name for your Gradle project. Defaults to service name",required:!1},{name:"java.artifact-version",friendlyName:"Java Artifact Version",description:"Version of your Maven or Gradle project. Defaults to 1.0-SNAPSHOT",required:!1},{name:"java.license-text",friendlyName:"Source Code License Text",description:"Customer provided license to inject into source file headers",required:!1}]},{id:"ruby",friendlyName:"Ruby",longName:"Ruby SDK",description:"Ruby SDK generator for API Gateway APIs",configurationProperties:[{name:"service.name",friendlyName:"Service Name",description:"Name of the service which is used to derive the name for your client",required:!0},{name:"ruby.gem-name",friendlyName:"Ruby Gem Name",description:"Name of the Ruby gem your code will be generated under",required:!1},{name:"ruby.gem-version",friendlyName:"Ruby Gem Version",description:"Version number for your service gem. Defaults to 1.0.0",required:!1}]}],$e=[{id:"oas30",friendlyName:"OpenAPI 3",longName:"OpenAPI 3 definitions",description:"",configurationProperties:[{name:"extensions.integrations",friendlyName:"Include x-amazon-apigateway-integration extensions",description:"",type:"checkbox"},{name:"extensions.authorizers",friendlyName:"Include x-amazon-apigateway-authorizer extensions",description:"",type:"checkbox"},{name:"extensions.postman",friendlyName:"Include extensions to allow importing into Postman",description:"",type:"checkbox"},{name:"accept",friendlyName:"Export format",description:"",type:"radio",default:"application/json",values:[{name:"application/json",friendlyName:"JSON"},{name:"application/yaml",friendlyName:"YAML"}]}]},{id:"swagger",friendlyName:"Swagger 2",longName:"Swagger (OpenAPI 2) definitions",description:"",configurationProperties:[{name:"extensions.integrations",friendlyName:"Include x-amazon-apigateway-integration extensions",description:"",type:"checkbox"},{name:"extensions.authorizers",friendlyName:"Include x-amazon-apigateway-authorizer extensions",description:"",type:"checkbox"},{name:"extensions.postman",friendlyName:"Include extensions to allow importing into Postman",description:"",type:"checkbox"},{name:"accept",friendlyName:"Export format",description:"",type:"radio",default:"application/json",values:[{name:"application/json",friendlyName:"JSON"},{name:"application/yaml",friendlyName:"YAML"}]}]}];function Qe(e){var t=e.blobType,n=e.endpointName,a=e.sdkType,r=e.exportType,i=e.parameters,o=oe.api.apiId||oe.api.id,c=oe.api.stage;return oe.api.downloadingSdkOrApi=!0,re().then((function(e){return e.get("/catalog/".concat(o,"_").concat(c,"/").concat(n),{sdkType:a},{},{queryParams:{exportType:r,parameters:JSON.stringify(i)}})})).then((function(e){!function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(e.data,"".concat(o,"_").concat(c,"-").concat(a||r,".zip"))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data;Je({header:"An error occurred while attempting to download the ".concat(t,"."),content:n.message})})).finally((function(){oe.api.downloadingSdkOrApi=!1}))}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qe({blobType:"SDK",endpointName:"sdk",sdkType:e,parameters:t})}function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("oas30"===e||"swagger"===e){var n=[];t["extensions.integrations"]&&n.push("integrations"),t["extensions.authorizers"]&&n.push("authorizers"),t["extensions.postman"]&&n.push("postman"),t=V.a.omit(t,["extensions.integrations","extensions.authorizers","extensions.postman"]),n.length&&(t.extensions=n.join(""))}return Qe({blobType:"API export",endpointName:"export",exportType:e,parameters:t})}var tt,nt=Object(P.a)((function(e){var t=e.specSelectors,n=t.basePath(),a=t.host(),r=t.externalDocs();return u.a.createElement(L.a,{fluid:!0,textAlign:"left",className:"fixfloat",style:{padding:"40px 0px"}},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{style:{flex:"0 0 auto",marginRight:"20px"}},u.a.createElement(N.a,{size:"small",src:oe.api.logo})),u.a.createElement("div",null,u.a.createElement(R.a,{as:"h1"},oe.api.swagger.info.title),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{style:{marginRight:"20px"}},oe.api.generic&&u.a.createElement("p",{style:{fontWeight:"bold"}},"Version"),u.a.createElement("p",{style:{fontWeight:"bold"}},"Endpoint"),oe.api.swagger.info.description?u.a.createElement("p",{style:{fontWeight:"bold"}},"Description"):null),u.a.createElement("div",null,oe.api.generic&&u.a.createElement("p",null,oe.api.swagger.info.version),u.a.createElement("p",null,"https://",a,n),oe.api.swagger.info.description?u.a.createElement("p",null,oe.api.swagger.info.description):null)),u.a.createElement("p",null,r),u.a.createElement(at,null),oe.api.sdkGeneration&&u.a.createElement(Be,null))))})),at=Object(P.a)(function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=oe.api;return e&&ue()?e.generic?u.a.createElement(R.a,{as:"h4",color:"grey"},"This API is not configured for subscription from the portal."):e.subscribed?u.a.createElement(G.a,{onClick:function(){return t=e.usagePlan.id,re().then((function(e){return e.delete("/subscriptions/".concat(t),{},{})})).then((function(){return je(!0)}));var t}},"Unsubscribe"):u.a.createElement(G.a,{onClick:function(){return t=e.usagePlan.id,re().then((function(e){return e.put("/subscriptions/"+t,{},{})})).then((function(){return je(!0)}));var t}},"Subscribe"):null}}]),t}(u.a.Component)),rt=function(){return{components:{InfoContainer:nt}}},it=n(1641),ot=n(1648),ct=(tt=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sidebarContent,n=e.children,a=e.SidebarPusherProps,r=this.props,i=r.isSidebarCollapsed,o=r.isMobileScreenResolution,c=r.toggleSidebar,l="calc(100% - ".concat(o?"48px":"260px",")"),s=o?"overlay":"push",d=o?"48px":0,m=i?"-".concat("260px"):0;return u.a.createElement(it.a.Pushable,{as:D.a,style:{display:"flex",flex:"1 1 auto",overflow:"hidden",border:"none",margin:0,borderRadius:0,boxShadow:"none"}},u.a.createElement(it.a,{as:Le.a,inverted:!0,attached:!0,borderless:!0,vertical:!0,style:{margin:0,borderRadius:0,flex:"0 0 auto",position:"relative",overflowY:"scroll",width:"260px"},visible:!i,animation:s},t),o&&u.a.createElement(lt,{onClick:c,expanded:!i,style:{marginLeft:m,width:"48px",transition:"500ms ease"}}),u.a.createElement(it.a.Pusher,Object.assign({dimmed:o&&!i,style:{marginLeft:d,position:"absolute",flex:"1 1 auto",height:"100%",overflow:"auto",width:l,transition:"500ms ease"}},a),n))}}]),t}(u.a.Component),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={isSidebarCollapsed:!1,isMobileScreenResolution:!1},n.checkMobileScreenResolution=function(){var e=n.isMobileScreenResolution();n.setState({isSidebarCollapsed:e,isMobileScreenResolution:e})},n.toggleSidebar=function(){n.setState((function(e){return{isSidebarCollapsed:!e.isSidebarCollapsed}}))},n.debouncedResizeHandler=V.a.debounce(n.checkMobileScreenResolution,500),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.checkMobileScreenResolution(),window.addEventListener("resize",this.debouncedResizeHandler)}},{key:"isMobileScreenResolution",value:function(){var e=ot.a.onlyMobile,t=e.minWidth,n=e.maxWidth;return window.innerWidth>=t&&window.innerWidth<=n}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedResizeHandler)}},{key:"render",value:function(){return u.a.createElement(tt,Object.assign({isSidebarCollapsed:this.state.isSidebarCollapsed,toggleSidebar:this.toggleSidebar,isMobileScreenResolution:this.state.isMobileScreenResolution},this.props))}}]),t}(u.a.Component));function lt(e){var t=e.onClick,n=e.expanded,a=e.style;return u.a.createElement(G.a,{secondary:!0,size:"large",onClick:t,title:"Expand Sidebar",style:Object(v.a)({zIndex:3,borderRadius:0,height:"100%"},a)},u.a.createElement(Ge.a,{name:"chevron ".concat(n?"left":"right"),style:{margin:0,padding:0,width:0,height:0}}))}var st=Object(P.a)(function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).containerRef=u.a.createRef(),n.removed=!1,n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.updateApi().then((function(){return ye(!0)}))}},{key:"componentDidUpdate",value:function(){this.updateApi()}},{key:"componentWillUnmount",value:function(){this.removed=!0}},{key:"updateApi",value:function(){var e=this;return Oe(this.props.match.params.apiId||"ANY",!0,this.props.match.params.stage).then((function(t){if(t&&!e.removed){var n={shouldPreauthorizeApiKey:!1,preauthorizeApiKey:function(){n.shouldPreauthorizeApiKey=!0}},a={domNode:e.containerRef.current,plugins:[rt],supportedSubmitMethods:[],spec:t.swagger,onComplete:function(){return n.preauthorizeApiKey()}};me()&&delete a.supportedSubmitMethods;var r=Re()(a);n.preauthorizeApiKey=function(){oe.apiKey&&r.preauthorizeApiKey("api_key",oe.apiKey)},n.shouldPreauthorizeApiKey&&n.preauthorizeApiKey()}}))}},{key:"render",value:function(){var e,t;return oe.apiList.loaded&&(oe.apiList.apiGateway.length||oe.apiList.generic.length?oe.api||(e="No Such API",t="The selected API doesn't exist."):(e="No APIs Published",t="Your administrator hasn't added any APIs to your account. Please contact them to publish an API.")),u.a.createElement(ct,{sidebarContent:u.a.createElement(Te,{path:this.props.match}),SidebarPusherProps:{className:"swagger-section"}},u.a.createElement("div",{className:"swagger-ui-wrap",ref:this.containerRef,style:{padding:"0 20px"}},e&&t&&u.a.createElement(u.a.Fragment,null,u.a.createElement(R.a,{as:"h2",icon:!0,textAlign:"center",style:{padding:"40px 0px"}},u.a.createElement(Ge.a,{name:"warning sign",circular:!0}),u.a.createElement(R.a.Content,null,e)),u.a.createElement(L.a,{text:!0,textAlign:"justified"},u.a.createElement("p",null,t)))))}}]),t}(u.a.Component)),ut=n(34),dt=n.n(ut),mt=n(56),pt=function(e){return e.messages.map((function(e){var t=e.render,n=e.id;return u.a.createElement(u.a.Fragment,{key:n},t())}))},ft=function(){var e=Object(s.useState)({messages:[],nextId:0}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return[n.messages,function(e){var t=n.nextId,r=function(){a((function(e){return Object(v.a)({},e,{messages:e.messages.filter((function(e){return e.id!==t}))})}))},i={render:function(){return e(r)},id:n.nextId};a((function(e){return{messages:[].concat(Object(H.a)(e.messages),[i]),nextId:e.nextId+1}}))},function(){a((function(e){return Object(v.a)({},e,{messages:[]})}))}]},gt=n(142),ht=n(561);function bt(){var e=Object(gt.a)(["/accounts/","/denyRequest"]);return bt=function(){return e},e}function vt(){var e=Object(gt.a)(["/accounts/","/approveRequest"]);return vt=function(){return e},e}function Et(){var e=Object(gt.a)(["/accounts/","/promoteToAdmin"]);return Et=function(){return e},e}function yt(){var e=Object(gt.a)(["/accounts/",""]);return yt=function(){return e},e}function wt(){var e=Object(gt.a)(["/accounts/",""]);return wt=function(){return e},e}var Ot=function(){var e=Object(mt.a)(dt.a.mark((function e(t){var n,a;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:return n=e.sent,e.next=5,n.get("/accounts",void 0,void 0,{queryParams:{filter:t}});case 5:return a=e.sent,e.abrupt("return",a.data.accounts);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(e){for(var t=Object(ht.a)(e),n=t[0],a=t.slice(1),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n+i.map((function(e,t){return encodeURIComponent(e)+a[t]})).join("")},jt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ie().then((function(a){return a[e](t,{},n,{})})).then((function(e){return e.data}))},Ct=n(1629),At=n(1634),St=n(1636),xt=n(1652),It=n(1637),Pt=n(562),Dt=n.n(Pt),Nt=Symbol("FILLER_ACCOUNT"),Rt=Symbol("NO_FILTER_COLUMN"),Gt=Symbol("NO_ORDER_COLUMN"),Lt=[{lodashDirection:void 0,iconName:"sort"},{lodashDirection:"asc",iconName:"sort up"},{lodashDirection:"desc",iconName:"sort down"}],Mt=function(e){return(e+1)%Lt.length},Tt=function(e){var t=e.accounts,n=e.columns,a=e.loading,r=e.selectedAccount,i=e.onSelectAccount,o=e.children,c=Object(s.useState)(t),l=Object(Se.a)(c,2),d=l[0],m=l[1],p=Object(s.useState)(0),f=Object(Se.a)(p,2),g=f[0],h=f[1],b=Object(s.useState)(Object(H.a)(Array(10)).fill(Nt)),E=Object(Se.a)(b,2),y=E[0],w=E[1],O=Object(s.useState)([]),k=Object(Se.a)(O,2),j=k[0],C=k[1],A=Object(s.useState)({column:Rt,value:""}),S=Object(Se.a)(A,2),x=S[0],I=S[1],P=Object(s.useState)({column:Gt,directionIndex:0}),D=Object(Se.a)(P,2),N=D[0],R=D[1];Object(s.useEffect)((function(){var e=n.filter((function(e){return e.filtering}));C(e),0===e.length?I({column:Rt,value:""}):x.column===Rt?I((function(t){return Object(v.a)({},t,{column:e[0]})})):e.includes(x.column)||I((function(e){return Object(v.a)({},e,{column:Rt})}))}),[n,x]),Object(s.useEffect)((function(){var e=V()(t);if(""!==x.value&&x.column!==Rt){var n=x.column.filtering.accessor;if("string"===typeof n)e=e.filter((function(e){return!!e[n]&&e[n].toString().includes(x.value)}));else{if("function"!==typeof n)throw new Error("Invalid filtering accessor on column ".concat(x.column.id));e=e.filter((function(e){return n(e).includes(x.value)}))}}N.column!==Gt&&(e=e.orderBy([N.column.ordering.iteratee],[Lt[N.directionIndex].lodashDirection])),m(e.value())}),[t,x,N]);var G=Object(s.useCallback)((function(e){var t=10*e,n=d.slice(t,t+10),a=10-n.length;return a&&n.push.apply(n,Object(H.a)(Array(a).fill(Nt))),n}),[d,10]),M=Math.ceil(d.length/10),T=Object(s.useCallback)((function(e,t){var n=t.activePage;--n,h(n),w(G(n,d)),i(void 0)}),[d,i,G]);Object(s.useEffect)((function(){a||T(void 0,{activePage:1})}),[t,a,T]);var q=V.a.range(10).map((function(e){if(a)return u.a.createElement(qt,{key:e,columnCount:n.length});var t=y[e];return t===Nt?u.a.createElement(zt,{key:e,columnCount:n.length}):u.a.createElement(Kt,{account:t,columns:n,isSelected:t===r,onSelect:i,key:e})})),z=j.map((function(e,t){return{key:t,text:e.title,value:e.id}})),K=u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:{float:"left",marginBottom:"1rem",paddingRight:"1rem"}},j.length>0&&u.a.createElement(Ct.a,{iconPosition:"left",icon:"search",placeholder:"Search by...",value:x.value,onChange:function(e,t){var n=t.value;return I((function(e){return Object(v.a)({},e,{value:n})}))},style:{maxWidth:"24em"}})),u.a.createElement("div",{style:{float:"left",marginBottom:"1rem",paddingRight:"1rem"}},u.a.createElement(At.a,{onChange:function(e,t){var n=t.value;return I((function(e){return Object(v.a)({},e,{column:j.find((function(e){return e.id===n}))||Rt})}))},options:z,selection:!0,value:x.column.id,"data-testid":"filterDropdown"})),u.a.createElement("div",{style:{float:"right",marginBottom:"1rem"}},o)),U=u.a.createElement(St.a,{selectable:!a,"data-testid":"accountsTable"},u.a.createElement(Ht,{columns:n,order:N,setOrder:R}),u.a.createElement(St.a.Body,null,q),u.a.createElement(St.a.Footer,null,u.a.createElement(St.a.Row,null,u.a.createElement(St.a.HeaderCell,{colSpan:n.length},u.a.createElement(L.a,{fluid:!0,textAlign:"right"},u.a.createElement(xt.a,{activePage:g+1,onPageChange:T,totalPages:M}))))));return u.a.createElement(L.a,{fluid:!0},K,U)},Ht=u.a.memo((function(e){var t=e.columns,n=e.order,a=e.setOrder,r=function(e){return function(){var t=Object(v.a)({},n);if(e===n.column){var r=Mt(n.directionIndex);0===r&&(t.column=Gt),t.directionIndex=r}else t.column=e,t.directionIndex=Mt(0);a(t)}},i=Lt[n.directionIndex];return u.a.createElement(St.a.Header,null,u.a.createElement(St.a.Row,{className:Dt.a.headerRow},t.map((function(e,t){return u.a.createElement(St.a.HeaderCell,{key:t,onClick:e.ordering&&r(e)},e.title,e===n.column&&u.a.createElement(Ge.a,{name:i.iconName}),e.ordering&&e!==n.column&&u.a.createElement(Ge.a,{name:Lt[0].iconName,disabled:!0}))}))))})),qt=u.a.memo((function(e){var t=e.columnCount;return u.a.createElement(St.a.Row,null,Array.from({length:t}).map((function(e,t){return u.a.createElement(St.a.Cell,{key:t},u.a.createElement(It.a,{"data-testid":"accountRowPlaceholder",fluid:!0},"\xa0"))})))})),zt=u.a.memo((function(e){var t=e.columnCount;return u.a.createElement(St.a.Row,null,Array.from({length:t}).map((function(e,t){return u.a.createElement(St.a.Cell,{key:t},"\xa0")})))})),Kt=u.a.memo((function(e){var t=e.account,n=e.columns,a=e.isSelected,r=e.onSelect;return u.a.createElement(St.a.Row,{active:a,onClick:function(){return r(t)}},n.map((function(e,n){var a=e.id,r=e.render;return u.a.createElement(St.a.Cell,Object.assign({},Object(le.a)({},"data-account-column-id",a),{key:n}),r(t))})))})),Ut={id:"EmailAddress",title:"Email address",render:function(e){return e.EmailAddress},ordering:{iteratee:"EmailAddress"},filtering:{accessor:"EmailAddress"}},Ft={id:"DateRegistered",title:"Date registered",render:function(e){return Qt(e.DateRegistered)},ordering:{iteratee:"DateRegistered"}},_t={id:"RegistrationMethod",title:"Registration method",render:function(e){return e.RegistrationMethod}},Jt={id:"ApiKeyId",title:"API key ID",render:function(e){return e.ApiKeyId},filtering:{accessor:"ApiKeyId"}},Bt={id:"Promoter",title:"Promoter",render:function(e){var t=e.PromoterUserId,n=e.PromoterEmailAddress;return t?"".concat(n," (").concat(t,")"):""},filtering:{accessor:function(e){var t=e.PromoterUserId,n=e.PromoterEmailAddress;return t?"".concat(n," ").concat(t):""}}},Wt={id:"Inviter",title:"Inviter",render:function(e){var t=e.InviterUserId,n=e.InviterEmailAddress;return t?"".concat(n," (").concat(t,")"):""},filtering:{accessor:function(e){var t=e.InviterUserId,n=e.InviterEmailAddress;return t?"".concat(n," ").concat(t):""}}},Vt={id:"DatePromoted",title:"Date promoted",render:function(e){var t=e.DatePromoted;return t?Qt(t):""},ordering:{iteratee:"DatePromoted"}},Yt={id:"DateRequested",title:"Date requested",render:function(e){return Qt(e.DateRequested)},ordering:{iteratee:"DateRequested"}},Zt={id:"DateInvited",title:"Date invited",render:function(e){return Qt(e.DateInvited)},ordering:{iteratee:"DateInvited"}},$t=new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Qt=function(e){return $t.format(new Date(e))},Xt=function(){var e=Object(s.useState)([]),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),i=Object(Se.a)(r,2),o=i[0],c=i[1],l=Object(s.useState)(void 0),d=Object(Se.a)(l,2),m=d[0],p=d[1],f=Object(s.useState)(!1),g=Object(Se.a)(f,2),h=g[0],b=g[1],v=Object(s.useState)(!1),E=Object(Se.a)(v,2),y=E[0],w=E[1],O=ft(),k=Object(Se.a)(O,2),j=k[0],C=k[1],A=function(){return Ot("registered").then((function(e){return a(e)}))};Object(s.useEffect)((function(){A().finally((function(){return c(!1)}))}),[]);var S=Object(s.useCallback)((function(e){return p(e)}),[p]),x=Object(s.useCallback)(Object(mt.a)(dt.a.mark((function e(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),b(!1),e.prev=2,e.next=5,t=m.UserId,jt("delete",kt(wt(),t));case 5:return C((function(e){return u.a.createElement(an,{account:m,dismiss:e})})),e.next=8,A();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),C((function(t){return u.a.createElement(rn,{account:m,dismiss:t,errorMessage:e.t0.message})}));case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}var t}),e,null,[[2,10,13,16]])}))),[C,m]),I=Object(s.useCallback)(Object(mt.a)(dt.a.mark((function e(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),w(!1),e.prev=2,e.next=5,t=m.UserId,jt("put",kt(Et(),t));case 5:C((function(e){return u.a.createElement(on,{account:m,dismiss:e})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),C((function(t){return u.a.createElement(cn,{account:m,dismiss:t,errorMessage:e.t0.message})}));case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}var t}),e,null,[[2,8,11,14]])}))),[C,m]);return u.a.createElement(L.a,{fluid:!0,style:{padding:"2em"}},u.a.createElement(R.a,{as:"h1"},"Registered accounts"),u.a.createElement(pt,{messages:j}),u.a.createElement(Tt,{accounts:n,columns:[Ut,Ft,_t,Jt],loading:o,selectedAccount:m,onSelectAccount:S},u.a.createElement(en,{canDelete:!o&&m,onClickDelete:function(){return b(!0)},canPromote:!o&&m,onClickPromote:function(){return w(!0)}})),u.a.createElement(tn,{account:m,onConfirm:x,open:h,onClose:function(){return b(!1)}}),u.a.createElement(nn,{account:m,onConfirm:I,open:y,onClose:function(){return w(!1)}}))},en=u.a.memo((function(e){var t=e.canDelete,n=e.onClickDelete,a=e.canPromote,r=e.onClickPromote;return u.a.createElement(G.a.Group,null,u.a.createElement(G.a,{content:"Delete",disabled:!t,onClick:n}),u.a.createElement(G.a,{content:"Promote to Admin",disabled:!a,onClick:r}))})),tn=u.a.memo((function(e){var t=e.account,n=e.onConfirm,a=e.open,r=e.onClose;return t&&u.a.createElement(Ke.a,{size:"small",open:a,onClose:r},u.a.createElement(Ke.a.Header,null,"Confirm deletion"),u.a.createElement(Ke.a.Content,null,u.a.createElement("p",null,"Are you sure you want to delete the account"," ",u.a.createElement("strong",null,t.EmailAddress),", and de-activate the associated API key? This action is irreversible.")),u.a.createElement(Ke.a.Actions,null,u.a.createElement(G.a,{onClick:r},"Cancel"),u.a.createElement(G.a,{negative:!0,onClick:n},"Delete")))})),nn=u.a.memo((function(e){var t=e.account,n=e.onConfirm,a=e.open,r=e.onClose;return t&&u.a.createElement(Ke.a,{size:"small",open:a,onClose:r},u.a.createElement(Ke.a.Header,null,"Confirm promotion"),u.a.createElement(Ke.a.Content,null,u.a.createElement("p",null,"Are you sure you want to promote the account"," ",u.a.createElement("strong",null,t.EmailAddress)," to Admin? This will allow the account to perform any Admin actions, including deleting and promoting other accounts."),u.a.createElement("p",null,"Only the owner of the Developer Portal can demote the account, through the Cognito console.")),u.a.createElement(Ke.a.Actions,null,u.a.createElement(G.a,{onClick:r},"Cancel"),u.a.createElement(G.a,{negative:!0,onClick:n},"Promote")))})),an=u.a.memo((function(e){var t=e.account,n=e.dismiss;return u.a.createElement(K.a,{onDismiss:n,positive:!0},u.a.createElement(K.a.Content,null,"Deleted account ",u.a.createElement("strong",null,t.EmailAddress),"."))})),rn=u.a.memo((function(e){var t=e.account,n=e.errorMessage,a=e.dismiss;return u.a.createElement(K.a,{onDismiss:a,negative:!0},u.a.createElement(K.a.Content,null,u.a.createElement("p",null,"Failed to delete account ",u.a.createElement("strong",null,t.EmailAddress),"."),n&&u.a.createElement("p",null,"Error message: ",n)))})),on=u.a.memo((function(e){var t=e.account,n=e.dismiss;return u.a.createElement(K.a,{onDismiss:n,positive:!0},u.a.createElement(K.a.Content,null,"Promoted account ",u.a.createElement("strong",null,t.EmailAddress),"."))})),cn=u.a.memo((function(e){var t=e.account,n=e.errorMessage,a=e.dismiss;return u.a.createElement(K.a,{onDismiss:a,negative:!0},u.a.createElement(K.a.Content,null,u.a.createElement("p",null,"Failed to promote account ",u.a.createElement("strong",null,t.EmailAddress),"."),n&&u.a.createElement("p",null,"Error message: ",n)))})),ln=function(){var e=Object(s.useState)([]),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),i=Object(Se.a)(r,2),o=i[0],c=i[1],l=Object(s.useState)(void 0),d=Object(Se.a)(l,2),m=d[0],p=d[1],f=function(){return Ot("admin").then((function(e){return a(e)}))};Object(s.useEffect)((function(){f().finally((function(){return c(!1)}))}),[]);var g=Object(s.useCallback)((function(e){return p(e)}),[p]);return u.a.createElement(L.a,{fluid:!0,style:{padding:"2em"}},u.a.createElement(R.a,{as:"h1"},"Admin accounts"),u.a.createElement(Tt,{accounts:n,columns:[Ut,Vt,Bt],loading:o,selectedAccount:m,onSelectAccount:g}))},sn=function(e){var t=Object(s.useState)(e),n=Object(Se.a)(t,2),a=n[0],r=n[1];return[a,Object(s.useCallback)((function(){return r(!0)}),[]),Object(s.useCallback)((function(){return r(!1)}),[]),r]},un=function(){var e=Object(s.useState)([]),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),i=Object(Se.a)(r,2),o=i[0],c=i[1],l=Object(s.useState)(void 0),d=Object(Se.a)(l,2),m=d[0],p=d[1],f=sn(!1),g=Object(Se.a)(f,3),h=g[0],b=g[1],v=g[2],E=sn(!1),y=Object(Se.a)(E,3),w=y[0],O=y[1],k=y[2],j=ft(),C=Object(Se.a)(j,2),A=C[0],S=C[1],x=ft(),I=Object(Se.a)(x,3),P=I[0],D=I[1],N=I[2],G=function(){return Ot("pendingInvite").then((function(e){return a(e)}))};Object(s.useEffect)((function(){G().finally((function(){return c(!1)}))}),[]);var M=Object(s.useCallback)((function(e){return p(e)}),[]),T=Object(s.useCallback)(function(){var e=Object(mt.a)(dt.a.mark((function e(t){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),N(),e.prev=2,e.next=5,jt("post","/accounts",{targetEmailAddress:t});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),D((function(n){return u.a.createElement(gn,{emailAddress:t,dismiss:n,errorMessage:e.t0.message})})),c(!1),e.abrupt("return",!1);case 12:return v(),N(),S((function(e){return u.a.createElement(fn,{emailAddress:t,dismiss:e})})),G().then((function(){return c(!1)})),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[S,D,N,v]),H=Object(s.useCallback)(Object(mt.a)(dt.a.mark((function e(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,t=m.EmailAddress,jt("put","/accounts/resendInvite",{targetEmailAddress:t});case 4:S((function(e){return u.a.createElement(hn,{account:m,dismiss:e})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),S((function(e){return u.a.createElement(bn,{account:m,dismiss:e})}));case 10:return e.prev=10,c(!1),e.finish(10);case 13:case"end":return e.stop()}var t}),e,null,[[1,7,10,13]])}))),[S,m]),q=Object(s.useCallback)(Object(mt.a)(dt.a.mark((function e(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),k(),e.prev=2,e.next=5,t=m.UserId,jt("delete",kt(yt(),t));case 5:return S((function(e){return u.a.createElement(vn,{account:m,dismiss:e})})),e.next=8,G();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),S((function(t){return u.a.createElement(En,{account:m,dismiss:t,errorMessage:e.t0.message})}));case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}var t}),e,null,[[2,10,13,16]])}))),[S,m,k]);return u.a.createElement(L.a,{fluid:!0,style:{padding:"2em"}},u.a.createElement(R.a,{as:"h1"},"Pending invites"),u.a.createElement(pt,{messages:A}),u.a.createElement(Tt,{accounts:n,columns:[Ut,Zt,Wt],loading:o,selectedAccount:m,onSelectAccount:M},u.a.createElement(dn,{canCreate:!o,onClickCreate:b,canResend:!o&&m,onClickResend:H,canDelete:!o&&m,onClickDelete:O})),u.a.createElement(mn,{onConfirm:T,open:h,onClose:v,messages:P}),u.a.createElement(pn,{account:m,onConfirm:q,open:w,onClose:k}))},dn=function(e){var t=e.canCreate,n=e.onClickCreate,a=e.canResend,r=e.onClickResend,i=e.canDelete,o=e.onClickDelete;return u.a.createElement(G.a.Group,null,u.a.createElement(G.a,{content:"Create invite...",disabled:!t,onClick:n}),u.a.createElement(G.a,{content:"Resend",disabled:!a,onClick:r}),u.a.createElement(G.a,{content:"Delete",disabled:!i,onClick:o}))},mn=function(e){var t=e.onConfirm,n=e.open,a=e.onClose,r=e.messages,i=Object(s.useState)(""),o=Object(Se.a)(i,2),c=o[0],l=o[1],d=Object(s.useState)(!1),m=Object(Se.a)(d,2),p=m[0],f=m[1],g=Object(s.useMemo)((function(){return/^[^@\s]+@[^@\s]+$/.test(c)}),[c]),h=Object(s.useCallback)((function(e,t){var n=t.value;return l(n)}),[]),b=Object(s.useCallback)(Object(mt.a)(dt.a.mark((function e(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,t(c);case 3:if(!e.sent){e.next=5;break}l("");case 5:f(!1);case 6:case"end":return e.stop()}}),e)}))),[t,c]);return u.a.createElement(Ke.a,{open:n,onClose:a,size:"small"},u.a.createElement(Ke.a.Header,null,"Create invite"),u.a.createElement(Ke.a.Content,null,u.a.createElement("p",null,"Enter an email address below and select ",u.a.createElement("strong",null,"Create")," to send an invitation to create an account."),u.a.createElement(pt,{messages:r}),u.a.createElement(K.a,{hidden:g||p,warning:!0},"Please enter a valid email address."),u.a.createElement(Ct.a,{placeholder:"Email address",value:c,onChange:h,disabled:p,style:{width:"100%"}})),u.a.createElement(Ke.a.Actions,null,u.a.createElement(G.a,{disabled:p,loading:p,onClick:a},"Cancel"),u.a.createElement(G.a,{positive:!0,disabled:!g,loading:p,onClick:b},"Create")))},pn=function(e){var t=e.account,n=e.onConfirm,a=e.open,r=e.onClose;return t?u.a.createElement(Ke.a,{size:"small",open:a,onClose:r},u.a.createElement(Ke.a.Header,null,"Confirm invite deletion"),u.a.createElement(Ke.a.Content,null,u.a.createElement("p",null,"Are you sure you want to delete this account invite for"," ",u.a.createElement("strong",null,t.EmailAddress),"? This action is irreversible.")),u.a.createElement(Ke.a.Actions,null,u.a.createElement(G.a,{onClick:r},"Cancel"),u.a.createElement(G.a,{negative:!0,onClick:n},"Delete"))):null},fn=function(e){var t=e.emailAddress,n=e.dismiss;return u.a.createElement(K.a,{onDismiss:n,positive:!0},u.a.createElement(K.a.Content,null,"Sent account invite to ",u.a.createElement("strong",null,t),"."))},gn=function(e){var t=e.emailAddress,n=e.errorMessage,a=e.dismiss;return u.a.createElement(K.a,{onDismiss:a,negative:!0},u.a.createElement(K.a.Content,null,u.a.createElement("p",null,"Failed to send account invite to ",u.a.createElement("strong",null,t),"."),n&&u.a.createElement("p",null,"Error message: ",n)))},hn=function(e){var t=e.account,n=e.dismiss;return u.a.createElement(K.a,{onDismiss:n,positive:!0},u.a.createElement(K.a.Content,null,"Resent account invite to ",u.a.createElement("strong",null,t.EmailAddress),"."))},bn=function(e){var t=e.account,n=e.errorMessage,a=e.dismiss;return u.a.createElement(K.a,{onDismiss:a,negative:!0},u.a.createElement(K.a.Content,null,u.a.createElement("p",null,"Failed to resend account invite to"," ",u.a.createElement("strong",null,t.EmailAddress),"."),n&&u.a.createElement("p",null,"Error message: ",n)))},vn=function(e){var t=e.account,n=e.dismiss;return u.a.createElement(K.a,{onDismiss:n,positive:!0},u.a.createElement(K.a.Content,null,"Deleted account invite for ",u.a.createElement("strong",null,t.EmailAddress),"."))},En=function(e){var t=e.account,n=e.errorMessage,a=e.dismiss;return u.a.createElement(K.a,{onDismiss:a,negative:!0},u.a.createElement(K.a.Content,null,u.a.createElement("p",null,"Failed to delete account invite for"," ",u.a.createElement("strong",null,t.EmailAddress),"."),n&&u.a.createElement("p",null,"Error message: ",n)))},yn=function(){var e=Object(s.useState)([]),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),i=Object(Se.a)(r,2),o=i[0],c=i[1],l=Object(s.useState)(void 0),d=Object(Se.a)(l,2),m=d[0],p=d[1],f=Object(s.useState)(!1),g=Object(Se.a)(f,2),h=g[0],b=g[1],v=ft(),E=Object(Se.a)(v,2),y=E[0],w=E[1],O=function(){return Ot("pendingRequest").then((function(e){return a(e)}))};Object(s.useEffect)((function(){O().finally((function(){return c(!1)}))}),[]);var k=Object(s.useCallback)((function(e){return p(e)}),[p]),j=Object(s.useCallback)(Object(mt.a)(dt.a.mark((function e(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,t=m.UserId,jt("put",kt(vt(),t));case 4:return w((function(e){return u.a.createElement(kn,{account:m,dismiss:e})})),e.next=7,O();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),w((function(t){return u.a.createElement(jn,{account:m,dismiss:t,errorMessage:e.t0.message})}));case 12:return e.prev=12,c(!1),e.finish(12);case 15:case"end":return e.stop()}var t}),e,null,[[1,9,12,15]])}))),[w,m]),C=Object(s.useCallback)(Object(mt.a)(dt.a.mark((function e(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),b(!1),e.prev=2,e.next=5,t=m.UserId,jt("put",kt(bt(),t));case 5:return w((function(e){return u.a.createElement(Cn,{account:m,dismiss:e})})),e.next=8,O();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),w((function(t){return u.a.createElement(An,{account:m,dismiss:t,errorMessage:e.t0.message})}));case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}var t}),e,null,[[2,10,13,16]])}))),[w,m]);return u.a.createElement(L.a,{fluid:!0,style:{padding:"2em"}},u.a.createElement(R.a,{as:"h1"},"Pending requests"),u.a.createElement(pt,{messages:y}),u.a.createElement(Tt,{accounts:n,columns:[Ut,Yt],loading:o,selectedAccount:m,onSelectAccount:k},u.a.createElement(wn,{canApprove:!o&&m,onClickApprove:j,canDeny:!o&&m,onClickDeny:function(){return b(!0)}})),u.a.createElement(On,{account:m,onConfirm:C,open:h,onClose:function(){return b(!1)}}))},wn=u.a.memo((function(e){var t=e.canApprove,n=e.onClickApprove,a=e.canDeny,r=e.onClickDeny;return u.a.createElement(G.a.Group,null,u.a.createElement(G.a,{content:"Approve",disabled:!t,onClick:n}),u.a.createElement(G.a,{content:"Deny",disabled:!a,onClick:r}))})),On=u.a.memo((function(e){var t=e.account,n=e.onConfirm,a=e.open,r=e.onClose;return t&&u.a.createElement(Ke.a,{size:"small",open:a,onClose:r},u.a.createElement(Ke.a.Header,null,"Confirm request denial"),u.a.createElement(Ke.a.Content,null,u.a.createElement("p",null,"Are you sure you want to deny this account request? The request will be permanently deleted, and ",u.a.createElement("strong",null,t.EmailAddress)," ","will need to sign up again in order to request an account.")),u.a.createElement(Ke.a.Actions,null,u.a.createElement(G.a,{onClick:r},"Cancel"),u.a.createElement(G.a,{negative:!0,onClick:n},"Deny")))})),kn=u.a.memo((function(e){var t=e.account,n=e.dismiss;return u.a.createElement(K.a,{onDismiss:n,positive:!0},u.a.createElement(K.a.Content,null,"Approved account request for ",u.a.createElement("strong",null,t.EmailAddress),"."))})),jn=u.a.memo((function(e){var t=e.account,n=e.errorMessage,a=e.dismiss;return u.a.createElement(K.a,{onDismiss:a,negative:!0},u.a.createElement(K.a.Content,null,u.a.createElement("p",null,"Failed to approve account request for"," ",u.a.createElement("strong",null,t.EmailAddress),"."),n&&u.a.createElement("p",null,"Error message: ",n)))})),Cn=u.a.memo((function(e){var t=e.account,n=e.dismiss;return u.a.createElement(K.a,{onDismiss:n,positive:!0},u.a.createElement(K.a.Content,null,"Denied account request for ",u.a.createElement("strong",null,t.EmailAddress),"."))})),An=u.a.memo((function(e){var t=e.account,n=e.errorMessage,a=e.dismiss;return u.a.createElement(K.a,{onDismiss:a,negative:!0},u.a.createElement(K.a.Content,null,u.a.createElement("p",null,"Failed to deny account request for"," ",u.a.createElement("strong",null,t.EmailAddress),"."),n&&u.a.createElement("p",null,"Error message: ",n)))}));function Sn(){return u.a.createElement(f.a,{to:"/admin/apis"})}var xn=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(g.a,null,u.a.createElement(ct,{sidebarContent:u.a.createElement(In,null)},u.a.createElement(u.a.Fragment,null,u.a.createElement(_n,{exact:!0,from:"/admin",component:Sn}),u.a.createElement(_n,{path:"/admin/apis",component:Rn}),u.a.createElement(_n,{exact:!0,path:"/admin/accounts",component:Xt}),u.a.createElement(_n,{exact:!0,path:"/admin/accounts/admins",component:ln}),u.a.createElement(_n,{exact:!0,path:"/admin/accounts/invites",component:un}),u.a.createElement(_n,{exact:!0,path:"/admin/accounts/requests",component:yn}))))}}]),t}(s.Component),In=Object(P.a)((function(){return pe()&&u.a.createElement(Le.a,{inverted:!0,vertical:!0,borderless:!0,attached:!0,style:{flex:"0 0 auto"}},u.a.createElement(Le.a.Header,{style:{padding:"13px 5px 13px 16px",color:"lightsteelblue"}},"Admin"),u.a.createElement(Le.a.Item,{className:"link",as:E.a,to:"/admin/apis"},"APIs"),u.a.createElement(Le.a.Item,{className:"link"},u.a.createElement(E.a,{to:"/admin/accounts",style:{color:"inherit"}},"Accounts"),u.a.createElement(Le.a.Menu,null,u.a.createElement(Le.a.Item,{as:E.a,to:"/admin/accounts/admins"},"Admins"),u.a.createElement(Le.a.Item,{as:E.a,to:"/admin/accounts/invites"},"Invites"),u.a.createElement(Le.a.Item,{as:E.a,to:"/admin/accounts/requests"},"Requests"))))})),Pn=n(564),Dn=n(565),Nn=n.n(Dn),Rn=Object(P.a)(function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={modalOpen:!1,errors:[]},n.fileInput=u.a.createRef(),n.tableSort=function(e,t){return e.name!==t.name?e.name.localeCompare(t.name):e.stage.localeCompare(t.stage)},n.genericTableSort=function(e,t){var n=oe.visibility.generic;if(n[e].name===n[t].name)return e.localeCompare(t);n[e].name.localeCompare(n[t].name)},n.usagePlanSort=function(e,t){return e.name!==t.name?e.name.localeCompare(t.name):e.id.localeCompare(t.id)},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getApiVisibility()}},{key:"uploadAPISpec",value:function(e){var t=this;e.preventDefault();var n,a,r,i=this.fileInput.current.files;i.length>0&&(this.setState((function(e){return Object(v.a)({},e,{errors:[]})})),i.forEach((function(e){var i=new window.FileReader;i.onload=function(i){if(e.name.includes("yaml")?(a=Pn.parse(i.target.result),n=JSON.stringify(a)):(a=JSON.parse(i.target.result),n=JSON.stringify(a)),!a.info||!a.info.title)return r=!0,void t.setState((function(t){return Object(v.a)({},t,{errors:[].concat(Object(H.a)(t.errors),[e.name])})}));r||re().then((function(e){return e.post("/admin/catalog/visibility",{},{swagger:n},{})})).then((function(e){200===e.status&&t.setState((function(e){return Object(v.a)({},e,{modalOpen:r,errors:r?e.errors:[]})})),setTimeout((function(){return t.getApiVisibility()}),2e3)}))},i.readAsText(e)})))}},{key:"deleteAPISpec",value:function(e){var t=this;Oe(e,!1,void 0,!0).then((function(e){var n=Object(y.m)(e),a=Nn()(n.swagger);re().then((function(e){return e.delete("/admin/catalog/visibility/generic/".concat(a),{},{},{})})).then((function(e){setTimeout((function(){return t.getApiVisibility()}),2e3)}))}))}},{key:"getApiVisibility",value:function(){re().then((function(e){return e.get("/admin/catalog/visibility",{},{},{})})).then((function(e){if(200===e.status){var t=e.data.apiGateway,n=e.data.generic&&Object.keys(e.data.generic);t.forEach((function(t){n&&n.forEach((function(n){e.data.generic["".concat(n)]&&e.data.generic["".concat(n)].apiId===t.id&&e.data.generic["".concat(n)].stage===t.stage&&(t.visibility=!0,delete e.data.generic["".concat(n)])}))})),oe.visibility=e.data}}))}},{key:"updateLocalApiGatewayApis",value:function(e,t,n){var a=e.map((function(e){return e.id===t.id&&e.stage===t.stage&&(e.visibility=void 0===n||!0!==n&&!1!==n?!e.visibility:n),e}));oe.visibility={generic:oe.visibility.generic,apiGateway:a}}},{key:"showApiGatewayApi",value:function(e){var t=this;re().then((function(t){return t.post("/admin/catalog/visibility",{},{apiKey:"".concat(e.id,"_").concat(e.stage),subscribable:"".concat(e.subscribable)},{})})).then((function(n){200===n.status&&t.updateLocalApiGatewayApis(oe.visibility.apiGateway,e)}))}},{key:"hideApiGatewayApi",value:function(e){var t=this;e.subscribable||e.id||e.stage?re().then((function(t){return t.delete("/admin/catalog/visibility/".concat(e.id,"_").concat(e.stage),{},{},{})})).then((function(n){200===n.status&&t.updateLocalApiGatewayApis(oe.visibility.apiGateway,e)})):this.deleteAPISpec(e.genericId)}},{key:"showAllApiGatewayApis",value:function(e){var t=this;Promise.all(e.apis.map((function(e){return re().then((function(t){return t.post("/admin/catalog/visibility",{},{apiKey:"".concat(e.id,"_").concat(e.stage),subscribable:"".concat(e.subscribable)},{})})).then((function(t){return t.api=e,t}))}))).then((function(e){e.forEach((function(e){200===e.status&&t.updateLocalApiGatewayApis(oe.visibility.apiGateway,e.api,!0)}))}))}},{key:"hideAllApiGatewayApis",value:function(e){var t=this;Promise.all(e.apis.map((function(e){return re().then((function(t){return t.delete("/admin/catalog/visibility/".concat(e.id,"_").concat(e.stage),{},{},{})})).then((function(t){return t.api=e,t}))}))).then((function(e){e.forEach((function(e){200===e.status&&t.updateLocalApiGatewayApis(oe.visibility.apiGateway,e.api,!1)}))}))}},{key:"updateApiGatewayApi",value:function(e){re().then((function(t){return t.post("/admin/catalog/visibility",{},{apiKey:"".concat(e.id,"_").concat(e.stage),subscribable:"".concat(e.subscribable)},{})}))}},{key:"isSdkGenerationConfigurable",value:function(e){return e.visibility}},{key:"toggleSdkGeneration",value:function(e,t){re().then((function(e){return t.sdkGeneration?e.delete("/admin/catalog/".concat(t.id,"_").concat(t.stage,"/sdkGeneration"),{},{},{}):e.put("/admin/catalog/".concat(t.id,"_").concat(t.stage,"/sdkGeneration"),{},{},{})})).then((function(n){if(200===n.status){var a=e.map((function(e){return e.id===t.id&&e.stage===t.stage&&(e.sdkGeneration=!e.sdkGeneration),e}));oe.visibility.apiGateway=a}}))}},{key:"renderHeaderVisibilityButton",value:function(e){var t=this,n=e.apis.length,a=e.apis.filter((function(e){return!0===e.visibility})).length;return n===a?u.a.createElement(G.a,{basic:!0,color:"green",style:{backgroundColor:"white",width:"100%"},onClick:function(){return t.hideAllApiGatewayApis(e)}},"True"):0===a?u.a.createElement(G.a,{basic:!0,color:"red",style:{backgroundColor:"white",width:"100%"},onClick:function(){return t.showAllApiGatewayApis(e)}},"False"):u.a.createElement(_.a,{content:"Users subscribed to any of the APIs in this usage plan will have a valid API key for all APIs in this usage plan, even those that are not visible!",trigger:u.a.createElement(G.a,{basic:!0,color:"yellow",style:{backgroundColor:"white",width:"100%",paddingLeft:"1em",paddingRight:"1em",minWidth:"88px"},onClick:function(){return t.showAllApiGatewayApis(e)}},"Partial ",u.a.createElement(Ge.a,{name:"warning sign",style:{paddingLeft:"5px"}}))})}},{key:"sortByUsagePlan",value:function(){var e=this;if(!oe.visibility.apiGateway)return this.renderNoApis();var t=oe.visibility.apiGateway.filter((function(e){return e.usagePlanId})).reduce((function(e,t){return e.find((function(e){return t.usagePlanId===e.id}))||e.push({id:t.usagePlanId,name:t.usagePlanName}),e}),[]).sort(this.usagePlanSort).map((function(t){return Object(v.a)({},t,{apis:oe.visibility.apiGateway.filter((function(e){return e.usagePlanId===t.id})).sort(e.tableSort)})})),n=oe.visibility.apiGateway.filter((function(e){return!e.usagePlanId})).sort(this.tableSort);return u.a.createElement(u.a.Fragment,null,t.map((function(t,n){return u.a.createElement(u.a.Fragment,null,e.renderHeader(t,n),t.apis.map((function(t){return t.id!==window.config.restApiId&&e.renderRow(t,n)})))})),u.a.createElement(St.a.Row,{style:{backgroundColor:"#1678c2",color:"white"}},u.a.createElement(St.a.Cell,{colSpan:"6"},u.a.createElement("b",null,"Not Subscribable")," ",u.a.createElement("i",null,"No Usage Plan"))),n.map((function(t){return t.id!==window.config.restApiId&&e.renderRow(t)})))}},{key:"renderNoApis",value:function(){return u.a.createElement(St.a.Row,null,u.a.createElement(St.a.Cell,{colSpan:"4"},"No APIs found"))}},{key:"renderHeader",value:function(e,t){return u.a.createElement(St.a.Row,{key:t,style:{backgroundColor:"#1678c2",color:"white"}},u.a.createElement(St.a.Cell,{colSpan:"3"},u.a.createElement("b",null,e&&e.name)," ",u.a.createElement("i",null,"Usage Plan")),u.a.createElement(St.a.Cell,null,this.renderHeaderVisibilityButton(e)),u.a.createElement(St.a.Cell,{colSpan:"2"}))}},{key:"renderRow",value:function(e){var t=this;return u.a.createElement(St.a.Row,null,u.a.createElement(St.a.Cell,{collapsing:!0},e.name),u.a.createElement(St.a.Cell,null,e.stage),u.a.createElement(St.a.Cell,null,e.subscribable?"Subscribable":"Not Subscribable"),u.a.createElement(St.a.Cell,null,u.a.createElement(G.a,{basic:!0,color:e.visibility?"green":"red",style:{width:"100%"},onClick:function(){return e.visibility?t.hideApiGatewayApi(e):t.showApiGatewayApi(e)}},e.visibility?"True":"False")),u.a.createElement(St.a.Cell,null,u.a.createElement(G.a,{basic:!0,color:"blue",disabled:!e.visibility,style:{width:"100%"},onClick:function(){return t.updateApiGatewayApi(e)}},"Update")),u.a.createElement(St.a.Cell,null,u.a.createElement(G.a,{basic:!0,color:"blue",style:{width:"100%"},disabled:!e.visibility||!this.isSdkGenerationConfigurable(e),onClick:function(){return t.toggleSdkGeneration(oe.visibility.apiGateway,e)}},e.sdkGeneration?"Enabled":"Disabled")))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{display:"flex",width:"100%"}},u.a.createElement("div",{style:{padding:"2em"}},u.a.createElement(St.a,{celled:!0,collapsing:!0},u.a.createElement(St.a.Header,{fullWidth:!0},u.a.createElement(St.a.Row,null,u.a.createElement(St.a.HeaderCell,{colSpan:"6"},"API Gateway APIs"))),u.a.createElement(St.a.Header,{fullWidth:!0},u.a.createElement(St.a.Row,null,u.a.createElement(St.a.HeaderCell,{collapsing:!0,sorted:"ascending"},"API Name"),u.a.createElement(St.a.HeaderCell,null,"Stage"),u.a.createElement(St.a.HeaderCell,null,"API Type"),u.a.createElement(St.a.HeaderCell,null,"Displayed"),u.a.createElement(St.a.HeaderCell,null,"Update"),u.a.createElement(St.a.HeaderCell,null,"Allow Generating SDKs"))),u.a.createElement(St.a.Body,null,this.sortByUsagePlan()))),u.a.createElement("div",{style:{padding:"2em"}},u.a.createElement(St.a,{celled:!0,collapsing:!0},u.a.createElement(St.a.Header,{fullWidth:!0},u.a.createElement(St.a.Row,null,u.a.createElement(St.a.HeaderCell,{colSpan:"4"},"Generic APIs"))),u.a.createElement(St.a.Header,{fullWidth:!0},u.a.createElement(St.a.Row,null,u.a.createElement(St.a.HeaderCell,{colSpan:"2"},u.a.createElement(Ke.a,{closeIcon:!0,closeOnEscape:!0,closeOnDimmerClick:!0,onClose:function(){return e.setState((function(e){return Object(v.a)({},e,{modalOpen:!1})}))},trigger:u.a.createElement(G.a,{floated:"right",onClick:function(){return e.setState((function(e){return Object(v.a)({},e,{modalOpen:!0})}))}},"Add API"),open:this.state.modalOpen},u.a.createElement(Ke.a.Header,null,"Select .JSON, .YAML, or .YML files"),u.a.createElement(Ke.a.Content,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(ze.a,{onSubmit:function(t){return e.uploadAPISpec(t)}},u.a.createElement(ze.a.Field,null,u.a.createElement("label",{htmlFor:"files"},"Select Files:"),u.a.createElement("input",{type:"file",id:"files",name:"files",accept:".json,.yaml,.yml",multiple:!0,ref:this.fileInput})),!!this.state.errors.length&&u.a.createElement(K.a,{size:"tiny",color:"red",list:this.state.errors,header:"These files are not parseable or do not contain an api title:"}),u.a.createElement("br",null),u.a.createElement(G.a,{type:"submit"},"Upload")))))))),u.a.createElement(St.a.Header,{fullWidth:!0},u.a.createElement(St.a.Row,null,u.a.createElement(St.a.HeaderCell,{collapsing:!0,sorted:"ascending"},"API Name"),u.a.createElement(St.a.HeaderCell,null,"Delete"))),u.a.createElement(St.a.Body,null,oe.visibility.generic?Object.keys(oe.visibility.generic).sort(this.genericTableSort).map((function(t,n){return u.a.createElement(St.a.Row,{key:n},u.a.createElement(St.a.Cell,{collapsing:!0},oe.visibility.generic[t].name),u.a.createElement(St.a.Cell,null,u.a.createElement(G.a,{basic:!0,color:"red",onClick:function(){return e.deleteAPISpec(t)}},"Delete")))})):u.a.createElement(St.a.Row,null,u.a.createElement(St.a.Cell,{colSpan:"4"},"No APIs found"))))))}}]),t}(u.a.Component)),Gn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).redirectUri=be(),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.signedIn?u.a.createElement(f.a,{to:"/apis"}):u.a.createElement(Le.a.Item,{key:"register",as:"a",href:"".concat(ne,"/signup?response_type=token&client_id=").concat(te,"&redirect_uri=").concat(this.redirectUri)},"Register")}}]),t}(u.a.Component),Ln=Object(P.a)(function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"getCognitoUrl",value:function(e){var t=be();return"".concat(ne,"/").concat(e,"?response_type=token&client_id=").concat(te,"&redirect_uri=").concat(t)}},{key:"insertAuthMenu",value:function(){return ue()?u.a.createElement(Le.a.Menu,{position:"right"},pe()&&u.a.createElement(Le.a.Item,{as:E.a,to:"/admin/apis"},"Admin Panel"),me()&&u.a.createElement(Le.a.Item,{key:"dashboard",as:E.a,to:"/dashboard"},"My Dashboard"),u.a.createElement(Le.a.Item,{key:"signout",as:"a",onClick:Ee},"Sign Out")):u.a.createElement(Le.a.Menu,{position:"right"},u.a.createElement(Le.a.Item,{key:"register",as:"a",href:this.getCognitoUrl("login")},"Sign In"),u.a.createElement(Gn,null))}},{key:"render",value:function(){return u.a.createElement(Le.a,{inverted:!0,borderless:!0,attached:!0,style:{flex:"0 0 auto"},stackable:!0},u.a.createElement(Le.a.Item,{as:E.a,to:"/"},u.a.createElement(N.a,{size:"mini",src:"/custom-content/nav-logo.png",style:{paddingRight:"10px"}}),C.Home.title),u.a.createElement(Le.a.Item,{as:E.a,to:"/getting-started"},C.GettingStarted.title),u.a.createElement(Le.a.Item,{as:E.a,to:"/apis"},C.APIs.title),this.insertAuthMenu())}}]),t}(u.a.Component)),Mn=n(1630),Tn={message:"",formOpen:!1,feedbackSubmitted:!1},Hn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state=Tn,n.handleOpenModal=function(){n.setState({formOpen:!0})},n.handleCloseModal=function(){n.setState(Tn)},n.handleSubmit=function(){(function(e){return re().then((function(t){return t.post("/feedback",{},{message:e},{})}))})(n.state.message).then((function(){n.setState({feedbackSubmitted:!0})}))},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.message,a=t.formOpen,r=t.feedbackSubmitted;return u.a.createElement(Ke.a,{closeIcon:!0,centered:!1,size:"tiny",open:a,onClose:this.handleCloseModal,trigger:u.a.createElement("div",{style:{display:"block",position:"fixed",top:"80%",right:"-62px",transform:"rotate(90deg)"}},u.a.createElement(G.a,{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},onClick:this.handleOpenModal},u.a.createElement("i",{className:"envelope outline icon"}),"Got an opinon?"))},u.a.createElement(Ke.a.Header,null,"Let us know!"),u.a.createElement(Ke.a.Content,null,!r&&u.a.createElement(ze.a,null,u.a.createElement(ze.a.Field,null,u.a.createElement(Mn.a,{value:n,onChange:function(t){return e.setState({message:t.target.value})}})),u.a.createElement(G.a,{type:"submit",positive:!0,onClick:this.handleSubmit},"Submit")),r&&u.a.createElement(K.a,{positive:!0},u.a.createElement("p",null,"Thanks for your feedback"))))}}]),t}(u.a.PureComponent),qn=n(1640),zn=(n(1612),function(e){return u.a.createElement(Le.a.Item,{key:e.title,as:E.a,to:e.url,style:{display:"inline-block",width:"100%",height:"100%"}},e.title)}),Kn=Object(P.a)(function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={search:{isLoading:!1,value:""},results:[],loaded:oe.apiList.loaded,categories:{}},n.handleResultSelect=function(e,t){var n=t.result;console.log(n)},n.handleSearchChange=function(e,t){var a=t.value;n.setState((function(e){var t=e.search,n=(t.isLoading,Object(l.a)(t,["isLoading"])),r=Object(l.a)(e,["search"]);return Object(v.a)({},r,{search:Object(v.a)({},n,{isLoading:!0,value:a})})})),setTimeout((function(){if(n.state.search.value.length<1)return n.resetComponent();var e=new RegExp(V.a.escapeRegExp(n.state.search.value),"i"),t=function(t){return e.test(t.title)||e.test(t.searchable)},a=V.a.reduce(n.state.categories,(function(e,n,a){var r=V.a.filter(n.results,t);return r.length&&(e[a]={name:a,results:r}),e}),{});n.setState((function(e){var t=e.search.value,n=Object(l.a)(e,["search"]);return Object(v.a)({},n,{search:{isLoading:!1,value:t},results:a})}))}),300)},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.createSearchCategories(oe.apiList.apiGateway,oe.apiList.generic)}},{key:"componentDidUpdate",value:function(e,t){t.loading!==oe.apiList.loaded&&(this.createSearchCategories(oe.apiList.apiGateway,oe.apiList.generic),this.setState((function(e){return Object(v.a)({},e,{loading:oe.apiList.loaded})})))}},{key:"createSearchCategories",value:function(e,t){var n=this,a={Subscribable:{name:"Subscribable",results:[]},"Not Subscribable":{name:"Not Subscribable",results:[]}};e.forEach((function(e){var t=e.id,n=e.stage,r=e.swagger,i=(e.subscribed,e.usagePlan);a.Subscribable.results.push({url:"/apis/".concat(t,"/").concat(n),title:"".concat(r.info.title," - ").concat(n),stage:"".concat(n),searchable:"{".concat(JSON.stringify(r)," ").concat(JSON.stringify(i)," ").concat(n,"}")})})),t.forEach((function(e){var t=e.id,n=e.swagger,r=e.stage,i=void 0!==r&&r,o=(Object(l.a)(e,["id","swagger","stage"]),{url:"/apis/".concat(t),title:"".concat(n.info.title),searchable:"".concat(JSON.stringify(n)).concat(i||"")});i&&(o.stage=i),a["Not Subscribable"].results.push(o)})),this.setState((function(e){return Object(v.a)({},e,{categories:a})}),(function(){console.log(n.state.categories)}))}},{key:"resetComponent",value:function(){this.setState((function(e){return Object(v.a)({},e,{search:{isLoading:!1,value:""},results:[]})}))}},{key:"render",value:function(){var e=this.state.search,t=e.isLoading,n=e.value,a=this.state.results;return u.a.createElement("div",{style:{display:"flex",flex:"1 1 auto",overflow:"hidden"}},u.a.createElement(Te,{path:this.props.match}),u.a.createElement(q.a,{style:{padding:"2em"}},u.a.createElement(q.a.Column,null,u.a.createElement(qn.a,Object.assign({category:!0,loading:t,onResultSelect:this.handleResultSelect,showNoResults:!t,onSearchChange:V.a.debounce(this.handleSearchChange,500,{leading:!0}),results:a,resultRenderer:zn,value:n},this.props)))))}}]),t}(s.Component));n(1613);n.d(t,"RegisteredRoute",(function(){return Fn})),n.d(t,"AdminRoute",(function(){return _n})),A("/custom-content/content-fragments/GettingStarted.md","GettingStarted"),A("/custom-content/content-fragments/Home.md","Home"),A("/custom-content/content-fragments/APIs.md","APIs");var Un=window.config.feedbackEnabled,Fn=function(e){var t=e.component,n=Object(l.a)(e,["component"]);return u.a.createElement(p.a,Object.assign({},n,{render:function(e){return me()?u.a.createElement(t,e):u.a.createElement(f.a,{to:"/"})}}))},_n=function(e){var t=e.component,n=Object(l.a)(e,["component"]);return u.a.createElement(p.a,Object.assign({},n,{render:function(e){return pe()?u.a.createElement(t,e):u.a.createElement(f.a,{to:"/"})}}))},Jn=function(e){function t(){var e;if(Object(a.a)(this,t),e=Object(i.a)(this,Object(o.a)(t).call(this)),function(){var e;ae();var t=!1;try{(e=window.localStorage.getItem(X))&&(t=1e3*se(e).exp>new Date)}catch(n){console.error(n)}t?(oe.idToken=e,ve()):Ee()}(),window.location.hash&&"!"===window.location.hash[1]){var n=window.location.hash.substring(2);window.history.pushState({},"home page",n)}return e}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(g.a,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(Ln,null),u.a.createElement(Ue,null),u.a.createElement(h.a,null,u.a.createElement(p.a,{exact:!0,path:"/",component:M}),u.a.createElement(p.a,{exact:!0,path:"/index.html",component:function(){var e=b.parse(window.location.search).action;return"login"===e?fe():"logout"===e&&Ee(),u.a.createElement(f.a,{to:"/"})}}),u.a.createElement(p.a,{path:"/getting-started",component:T}),u.a.createElement(Fn,{path:"/dashboard",component:Pe}),u.a.createElement(_n,{path:"/admin",component:xn}),u.a.createElement(p.a,{exact:!0,path:"/apis",component:st}),u.a.createElement(p.a,{exact:!0,path:"/apis/search",component:Kn}),u.a.createElement(p.a,{exact:!0,path:"/apis/:apiId",component:st}),u.a.createElement(p.a,{path:"/apis/:apiId/:stage",component:st}),u.a.createElement(p.a,{path:"/login",render:function(){return fe(),u.a.createElement(f.a,{to:"/"})}}),u.a.createElement(p.a,{path:"/logout",render:function(){return Ee(),u.a.createElement(f.a,{to:"/"})}}),u.a.createElement(p.a,{component:function(){return u.a.createElement("h2",null,"Page not found")}})),Un&&u.a.createElement(Hn,null),u.a.createElement(_e,null)))}}]),t}(u.a.Component);m.a.render(u.a.createElement(Jn,null),document.getElementById("root"))},275:function(e,t){},562:function(e,t,n){e.exports={headerRow:"AccountsTable_headerRow__miKSu"}},576:function(e,t,n){e.exports=n(1614)}},[[576,1,2]]]);
//# sourceMappingURL=main.f42c92be.chunk.js.map